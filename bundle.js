!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=33)}([function(e,t,r){"use strict";var n=r(22),o=r(59),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("bytes")},function(e,t,r){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(10),o=r(51),i=r(52),s=r(53),a=r(19);e.exports=function(e,t,r,u,c,f){var d,p,l=f;e._body=!0;var h=null!==l.encoding?l.encoding:null,m=l.verify;try{p=function(e,t,r){var o,i=(e.headers["content-encoding"]||"identity").toLowerCase(),s=e.headers["content-length"];if(t('content-encoding "%s"',i),!1===r&&"identity"!==i)throw n(415,"content encoding unsupported",{encoding:i,type:"encoding.unsupported"});switch(i){case"deflate":o=a.createInflate(),t("inflate body"),e.pipe(o);break;case"gzip":o=a.createGunzip(),t("gunzip body"),e.pipe(o);break;case"identity":(o=e).length=s;break;default:throw n(415,'unsupported content encoding "'+i+'"',{encoding:i,type:"encoding.unsupported"})}return o}(e,c,l.inflate),d=p.length,p.length=void 0}catch(e){return r(e)}if(l.length=d,l.encoding=m?null:h,null===l.encoding&&null!==h&&!i.encodingExists(h))return r(n(415,'unsupported charset "'+h.toUpperCase()+'"',{charset:h.toLowerCase(),type:"charset.unsupported"}));c("read body"),o(p,l,function(o,a){var f;if(o)return f="encoding.unsupported"===o.type?n(415,'unsupported charset "'+h.toUpperCase()+'"',{charset:h.toLowerCase(),type:"charset.unsupported"}):n(400,o),p.resume(),void s(e,function(){r(n(400,f))});if(m)try{c("verify body"),m(e,t,a,h)}catch(e){return void r(n(403,e,{body:a,type:e.type||"entity.verify.failed"}))}var d=a;try{c("parse body"),d="string"!=typeof a&&null!==h?i.decode(a,h):a,e.body=u(d)}catch(e){return void r(n(400,e,{body:d,type:e.type||"entity.parse.failed"}))}r()})}},function(e,t){e.exports=require("type-is")},function(e,t){e.exports=require("depd")},function(e,t){e.exports=require("content-type")},function(e,t){e.exports=require("http-errors")},function(e,t,r){"use strict";var n=r(0),o=r(61),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=r(62):"undefined"!=typeof process&&(a=r(67)),a),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){u.headers[e]={}}),n.forEach(["post","put","patch"],function(e){u.headers[e]=n.merge(i)}),e.exports=u},function(e,t,r){"use strict";var n=r(24);e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},function(e,t){e.exports=require("parseurl")},function(e,t){e.exports=require("querystring")},function(e,t){e.exports=require("cookie")},function(e,t,r){"use strict";
/*!
 * Connect - session - Session
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */function n(e,t){if(Object.defineProperty(this,"req",{value:e}),Object.defineProperty(this,"id",{value:e.sessionID}),"object"==typeof t&&null!==t)for(var r in t)r in this||(this[r]=t[r])}function o(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0})}e.exports=n,o(n.prototype,"touch",function(){return this.resetMaxAge()}),o(n.prototype,"resetMaxAge",function(){return this.cookie.maxAge=this.cookie.originalMaxAge,this}),o(n.prototype,"save",function(e){return this.req.sessionStore.set(this.id,this,e||function(){}),this}),o(n.prototype,"reload",function(e){var t=this.req,r=this.req.sessionStore;return r.get(this.id,function(n,o){return n?e(n):o?(r.createSession(t,o),void e()):e(new Error("failed to load session"))}),this}),o(n.prototype,"destroy",function(e){return delete this.req.session,this.req.sessionStore.destroy(this.id,e),this}),o(n.prototype,"regenerate",function(e){return this.req.sessionStore.regenerate(this.req,e),this})},function(e,t,r){"use strict";
/*!
 * Connect - session - Store
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */var n=r(18),o=r(47).EventEmitter,i=r(16),s=r(4);function a(){o.call(this)}e.exports=a,s.inherits(a,o),a.prototype.regenerate=function(e,t){var r=this;this.destroy(e.sessionID,function(n){r.generate(e),t(n)})},a.prototype.load=function(e,t){var r=this;this.get(e,function(n,o){if(n)return t(n);if(!o)return t();var i={sessionID:e,sessionStore:r};t(null,r.createSession(i,o))})},a.prototype.createSession=function(e,t){var r=t.cookie.expires,o=t.cookie.originalMaxAge;return t.cookie=new n(t.cookie),"string"==typeof r&&(t.cookie.expires=new Date(r)),t.cookie.originalMaxAge=o,e.session=new i(e,t),e.session}},function(e,t,r){"use strict";
/*!
 * Connect - session - Cookie
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */var n=r(46),o=r(15);
/*!
 * Prototype.
 */
(e.exports=function(e){this.path="/",this.maxAge=null,this.httpOnly=!0,e&&n(this,e),this.originalMaxAge=null==this.originalMaxAge?this.maxAge:this.originalMaxAge}).prototype={set expires(e){this._expires=e,this.originalMaxAge=this.maxAge},get expires(){return this._expires},set maxAge(e){this.expires="number"==typeof e?new Date(Date.now()+e):e},get maxAge(){return this.expires instanceof Date?this.expires.valueOf()-Date.now():this.expires},get data(){return{originalMaxAge:this.originalMaxAge,expires:this._expires,secure:this.secure,httpOnly:this.httpOnly,domain:this.domain,path:this.path,sameSite:this.sameSite}},serialize:function(e,t){return o.serialize(e,t,this.data)},toJSON:function(){return this.data}}},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("passport")},function(e,t,r){e.exports=r(58)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(12);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t){e.exports=require("follow-redirects")},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t){e.exports={ensureAuthenticated:function(e,t,r){if(e.isAuthenticated())return r();e.flash("error_msg","Not autherized"),t.redirect("/users/login")}}},function(e,t){e.exports=require("moment")},function(e,t,r){const n=r(1),o=new(0,n.Schema)({wordFind:{type:String,required:!0},link:{type:String,required:!1},user:{type:String,required:!0},date:{type:Date,default:Date.now},from:{type:String},to:{type:String}});n.model("links",o)},function(e,t){e.exports=require("bcryptjs")},function(e,t,r){(function(e){const t=r(3),n=r(34),o=r(37),i=t(),s=r(38),a=r(40),u=process.env.PORT||5e3,c=r(48),f=r(1),d=r(49),p=r(20);r(21);f.promise=global.Promise,i.use(t.static(o.join(e,"public"))),i.set("trust proxy",1),i.use(a({secret:"keyboard cat",resave:!0,saveUninitialized:!0})),i.use(p.initialize()),i.use(p.session()),i.use(s()),i.use((e,t,r)=>{t.locals.success_msg=e.flash("success_msg"),t.locals.error_msg=e.flash("error_msg"),t.locals.error=e.flash("error"),t.locals.user=e.user||null,r()});const l=r(79),h=r(80),m=r(82);r(84)(p),f.connect("mongodb://localhost/parser-dev",{useNewUrlParser:!0}).then(()=>{console.log("MongoDB connected")}).catch(e=>console.log(e)),i.use(n("_method")),i.use(d.urlencoded({extended:!1})),i.engine("handlebars",c({defaultLayout:"main"})),i.set("view engine","handlebars"),i.get("/",(e,t)=>{t.render("index",{title:"Homepage"})}),i.get("/about",(e,t)=>{t.render("about")}),i.use("/links",l),i.use("/users",h),i.use("/results",m),i.listen(u,()=>{console.log(`server is on port ${u}`)})}).call(this,"/")},function(e,t,r){"use strict";
/*!
 * method-override
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(2)("method-override"),o=r(35),i=r(13),s=r(14),a=r(36);function u(e){return e&&"string"==typeof e&&-1!==o.indexOf(e.toLowerCase())}e.exports=function(e,t){var r=t||{},o="function"==typeof e?e:function(e){if("X-"===e.substr(0,2).toUpperCase())return function(e){var t=e.toLowerCase();return function(r,n){a(n,e);var o=r.headers[t];if(o){var i=o.indexOf(",");return-1!==i?o.substr(0,i).trim():o.trim()}}}(e);return t=e,function(e,r){var n=i(e),o=s.parse(n.query||"");return o[t]};var t}(e||"X-HTTP-Method-Override"),c=void 0===r.methods?["POST"]:r.methods;return function(e,t,r){var i,s;if(e.originalMethod=e.originalMethod||e.method,c&&-1===c.indexOf(e.originalMethod))return r();s=o(e,t),void 0!==(i=Array.isArray(s)?s[0]:s)&&u(i)&&(e.method=i.toUpperCase(),n("override %s as %s",e.originalMethod,e.method)),r()}}},function(e,t){e.exports=require("methods")},function(e,t){e.exports=require("vary")},function(e,t){e.exports=require("path")},function(e,t,r){e.exports=r(39)},function(e,t,r){var n=r(4).format,o=r(4).isArray;function i(e,t){if(void 0===this.session)throw Error("req.flash() requires sessions");var r=this.session.flash=this.session.flash||{};if(e&&t){if(arguments.length>2&&n){var i=Array.prototype.slice.call(arguments,1);t=n.apply(void 0,i)}else if(o(t))return t.forEach(function(t){(r[e]=r[e]||[]).push(t)}),r[e].length;return(r[e]=r[e]||[]).push(t)}if(e){var s=r[e];return delete r[e],s||[]}return this.session.flash={},r}e.exports=function(e){var t=void 0===(e=e||{}).unsafe||!e.unsafe;return function(e,r,n){if(e.flash&&t)return n();e.flash=i,n()}}},function(e,t,r){"use strict";
/*!
 * express-session
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(15),o=r(41).crc32,i=r(2)("express-session"),s=r(8)("express-session"),a=r(13),u=r(42).sync,c=r(43),f=r(44),d=r(16),p=r(45),l=r(18),h=r(17),m="production";(t=e.exports=function(e){var t=e||{},r=t.cookie||{},o=t.genid||v,u=t.name||t.key||"connect.sid",h=t.store||new p,k=t.proxy,q=t.resave,S=Boolean(t.rolling),j=t.saveUninitialized,A=t.secret;if("function"!=typeof o)throw new TypeError("genid option must be a function");void 0===q&&(s("undefined resave option; provide resave option"),q=!0);void 0===j&&(s("undefined saveUninitialized option; provide saveUninitialized option"),j=!0);if(t.unset&&"destroy"!==t.unset&&"keep"!==t.unset)throw new TypeError('unset option must be "destroy" or "keep"');var O="destroy"===t.unset;if(Array.isArray(A)&&0===A.length)throw new TypeError("secret option array must contain one or more strings");A&&!Array.isArray(A)&&(A=[A]);A||s("req.secret; provide secret option");"production"==m&&h instanceof p&&console.warn(y);h.generate=function(e){e.sessionID=o(e),e.session=new d(e),e.session.cookie=new l(r),"auto"===r.secure&&(e.session.cookie.secure=b(e,k))};var D="function"==typeof h.touch,C=!0;return h.on("disconnect",function(){C=!1}),h.on("connect",function(){C=!0}),function(e,t,o){if(e.session)o();else{if(!C)return i("store is disconnected"),void o();if(0!==(a.original(e).pathname||"/").indexOf(r.path||"/"))return o();if(A||e.secret){var d,p,l,m=A||[e.secret],y=!1;e.sessionStore=h;var v=e.sessionID=function(e,t,r){var o,a,u=e.headers.cookie;if(u){var c=n.parse(u);(o=c[t])&&("s:"===o.substr(0,2)?!1===(a=w(o.slice(2),r))&&(i("cookie signature invalid"),a=void 0):i("cookie unsigned"))}return!a&&e.signedCookies&&(a=e.signedCookies[t])&&s("cookie should be available in req.headers.cookie"),!a&&e.cookies&&(o=e.cookies[t])&&("s:"===o.substr(0,2)?((a=w(o.slice(2),r))&&s("cookie should be available in req.headers.cookie"),!1===a&&(i("cookie signature invalid"),a=void 0)):i("cookie unsigned")),a}(e,u,m);c(t,function(){e.session?function(e){return"string"==typeof e.sessionID&&(v!=e.sessionID?j||P(e.session):S||null!=e.session.cookie.expires&&P(e.session))}(e)&&(!e.session.cookie.secure||b(e,k)?(y||(e.session.touch(),y=!0),function(e,t,r,o,s){var a="s:"+f.sign(r,o),u=n.serialize(t,a,s);i("set-cookie %s",u);var c=e.getHeader("set-cookie")||[],d=Array.isArray(c)?c.concat(u):[c,u];e.setHeader("set-cookie",d)}(t,u,e.sessionID,m[0],e.session.cookie.data)):i("not secured")):i("no session")});var E=t.end,T=t.write,_=!1;if(t.end=function(r,n){if(_)return!1;var s;_=!0;var a=!0;function u(){if(a)return s=E.call(t,r,n),void(a=!1);E.call(t)}function c(){if(!a)return s;if(null==r)return s=!0;var e=Number(t.getHeader("Content-Length"));return!isNaN(e)&&e>0&&(r=Buffer.isBuffer(r)?r:new Buffer(r,n),n=void 0,0!==r.length)?(i("split response"),s=T.call(t,r.slice(0,r.length-1)),r=r.slice(r.length-1,r.length),s):(s=T.call(t,r,n),a=!1,s)}return function(e){return e.sessionID&&O&&null==e.session}(e)?(i("destroying"),h.destroy(e.sessionID,function(e){e&&g(o,e),i("destroyed"),u()}),c()):e.session?(y||(e.session.touch(),y=!0),N(e)?(e.session.save(function(e){e&&g(o,e),u()}),c()):D&&function(e){return"string"!=typeof e.sessionID?(i("session ignored because of bogus req.sessionID %o",e.sessionID),!1):v===e.sessionID&&!N(e)}(e)?(i("touching"),h.touch(e.sessionID,e.session,function(e){e&&g(o,e),i("touched"),u()}),c()):E.call(t,r,n)):(i("no session"),E.call(t,r,n))},!e.sessionID)return i("no SID sent, generating session"),L(),void o();i("fetching %s",e.sessionID),h.get(e.sessionID,function(t,r){if(t){if(i("error %j",t),"ENOENT"!==t.code)return void o(t);L()}else r?(i("session found"),h.createSession(e,r),p=e.sessionID,d=x(r),q||(l=d),B(e.session)):(i("no session found"),L());o()})}else o(new Error("secret option required for sessions"))}function L(){h.generate(e),p=e.sessionID,d=x(e.session),B(e.session)}function B(t){var r=t.reload,n=t.save;Object.defineProperty(t,"reload",{configurable:!0,enumerable:!1,value:function(t){i("reloading %s",this.id),r.call(this,function(){B(e.session),t.apply(this,arguments)})},writable:!0}),Object.defineProperty(t,"save",{configurable:!0,enumerable:!1,value:function(){i("saving %s",this.id),l=x(this),n.apply(this,arguments)},writable:!0})}function P(e){return p!==e.id||d!==x(e)}function N(e){return"string"!=typeof e.sessionID?(i("session ignored because of bogus req.sessionID %o",e.sessionID),!1):j||v===e.sessionID?(t=e.session,!(p===t.id&&l===x(t))):P(e.session);var t}}}).Store=h,t.Cookie=l,t.Session=d,t.MemoryStore=p;var y="Warning: connect.session() MemoryStore is not\ndesigned for a production environment, as it will leak\nmemory, and will not scale past a single process.",g="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function v(e){return u(24)}function x(e){return o(JSON.stringify(e,function(t,r){if(this!==e||"cookie"!==t)return r}))}function b(e,t){if(e.connection&&e.connection.encrypted)return!0;if(!1===t)return!1;if(!0!==t){var r=e.secure;return"boolean"==typeof r&&r}var n=e.headers["x-forwarded-proto"]||"",o=n.indexOf(",");return"https"===(-1!==o?n.substr(0,o).toLowerCase().trim():n.toLowerCase().trim())}function w(e,t){for(var r=0;r<t.length;r++){var n=f.unsign(e,t[r]);if(!1!==n)return n}return!1}},function(e,t){e.exports=require("crc")},function(e,t){e.exports=require("uid-safe")},function(e,t){e.exports=require("on-headers")},function(e,t){e.exports=require("cookie-signature")},function(e,t,r){"use strict";
/*!
 * express-session
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(17),o=r(4),i="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function s(){n.call(this),this.sessions=Object.create(null)}function a(e){var t=this.sessions[e];if(t){var r="string"==typeof(t=JSON.parse(t)).cookie.expires?new Date(t.cookie.expires):t.cookie.expires;if(!(r&&r<=Date.now()))return t;delete this.sessions[e]}}e.exports=s,o.inherits(s,n),s.prototype.all=function(e){for(var t=Object.keys(this.sessions),r=Object.create(null),n=0;n<t.length;n++){var o=t[n],s=a.call(this,o);s&&(r[o]=s)}e&&i(e,null,r)},s.prototype.clear=function(e){this.sessions=Object.create(null),e&&i(e)},s.prototype.destroy=function(e,t){delete this.sessions[e],t&&i(t)},s.prototype.get=function(e,t){i(t,null,a.call(this,e))},s.prototype.set=function(e,t,r){this.sessions[e]=JSON.stringify(t),r&&i(r)},s.prototype.length=function(e){this.all(function(t,r){if(t)return e(t);e(null,Object.keys(r).length)})},s.prototype.touch=function(e,t,r){var n=a.call(this,e);n&&(n.cookie=t.cookie,this.sessions[e]=JSON.stringify(n)),r&&i(r)}},function(e,t){e.exports=require("utils-merge")},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("express-handlebars")},function(e,t,r){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(8)("body-parser"),o=Object.create(null);function i(e){return function(){return function(e){var t=o[e];if(void 0!==t)return t;switch(e){case"json":t=r(50);break;case"raw":t=r(54);break;case"text":t=r(55);break;case"urlencoded":t=r(56)}return o[e]=t}(e)}}t=e.exports=n.function(function(e){var r={};if(e)for(var n in e)"type"!==n&&(r[n]=e[n]);var o=t.urlencoded(r),i=t.json(r);return function(e,t,r){i(e,t,function(n){if(n)return r(n);o(e,t,r)})}},"bodyParser: use individual json/urlencoded middlewares"),Object.defineProperty(t,"json",{configurable:!0,enumerable:!0,get:i("json")}),Object.defineProperty(t,"raw",{configurable:!0,enumerable:!0,get:i("raw")}),Object.defineProperty(t,"text",{configurable:!0,enumerable:!0,get:i("text")}),Object.defineProperty(t,"urlencoded",{configurable:!0,enumerable:!0,get:i("urlencoded")})},function(e,t,r){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(5),o=r(9),i=r(10),s=r(2)("body-parser:json"),a=r(6),u=r(7);e.exports=function(e){var t=e||{},r="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,d=!1!==t.inflate,p=t.reviver,l=!1!==t.strict,h=t.type||"application/json",m=t.verify||!1;if(!1!==m&&"function"!=typeof m)throw new TypeError("option verify must be function");var y="function"!=typeof h?function(e){return function(t){return Boolean(u(t,e))}}(h):h;function g(e){if(0===e.length)return{};if(l){var t=(r=e,c.exec(r)[1]);if("{"!==t&&"["!==t)throw s("strict violation"),function(e,t){var r=e.indexOf(t),n=e.substring(0,r)+"#";try{throw JSON.parse(n),new SyntaxError("strict violation")}catch(e){return f(e,{message:e.message.replace("#",t),stack:e.stack})}}(e,t)}var r;try{return s("parse json"),JSON.parse(e,p)}catch(e){throw f(e,{message:e.message,stack:e.stack})}}return function(e,t,n){if(e._body)return s("body already parsed"),void n();if(e.body=e.body||{},!u.hasBody(e))return s("skip empty body"),void n();if(s("content-type %j",e.headers["content-type"]),!y(e))return s("skip parsing"),void n();var c=function(e){try{return(o.parse(e).parameters.charset||"").toLowerCase()}catch(e){return}}(e)||"utf-8";if("utf-"!==c.substr(0,4))return s("invalid charset"),void n(i(415,'unsupported charset "'+c.toUpperCase()+'"',{charset:c,type:"charset.unsupported"}));a(e,t,n,g,s,{encoding:c,inflate:d,limit:r,verify:m})}};var c=/^[\x20\x09\x0a\x0d]*(.)/;function f(e,t){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n];"stack"!==o&&"message"!==o&&delete e[o]}return e.stack=t.stack.replace(e.message,t.message),e.message=t.message,e}},function(e,t){e.exports=require("raw-body")},function(e,t){e.exports=require("iconv-lite")},function(e,t){e.exports=require("on-finished")},function(e,t,r){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(5),o=r(2)("body-parser:raw"),i=r(6),s=r(7);e.exports=function(e){var t=e||{},r=!1!==t.inflate,a="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,u=t.type||"application/octet-stream",c=t.verify||!1;if(!1!==c&&"function"!=typeof c)throw new TypeError("option verify must be function");var f="function"!=typeof u?function(e){return function(t){return Boolean(s(t,e))}}(u):u;function d(e){return e}return function(e,t,n){return e._body?(o("body already parsed"),void n()):(e.body=e.body||{},s.hasBody(e)?(o("content-type %j",e.headers["content-type"]),f(e)?void i(e,t,n,d,o,{encoding:null,inflate:r,limit:a,verify:c}):(o("skip parsing"),void n())):(o("skip empty body"),void n()))}}},function(e,t,r){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(5),o=r(9),i=r(2)("body-parser:text"),s=r(6),a=r(7);e.exports=function(e){var t=e||{},r=t.defaultCharset||"utf-8",u=!1!==t.inflate,c="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,f=t.type||"text/plain",d=t.verify||!1;if(!1!==d&&"function"!=typeof d)throw new TypeError("option verify must be function");var p="function"!=typeof f?function(e){return function(t){return Boolean(a(t,e))}}(f):f;function l(e){return e}return function(e,t,n){if(e._body)return i("body already parsed"),void n();if(e.body=e.body||{},!a.hasBody(e))return i("skip empty body"),void n();if(i("content-type %j",e.headers["content-type"]),!p(e))return i("skip parsing"),void n();var f=function(e){try{return(o.parse(e).parameters.charset||"").toLowerCase()}catch(e){return}}(e)||r;s(e,t,n,l,i,{encoding:f,inflate:u,limit:c,verify:d})}}},function(e,t,r){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(5),o=r(9),i=r(10),s=r(2)("body-parser:urlencoded"),a=r(8)("body-parser"),u=r(6),c=r(7);e.exports=function(e){var t=e||{};void 0===t.extended&&a("undefined extended: provide extended option");var r=!1!==t.extended,f=!1!==t.inflate,l="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,h=t.type||"application/x-www-form-urlencoded",m=t.verify||!1;if(!1!==m&&"function"!=typeof m)throw new TypeError("option verify must be function");var y=r?function(e){var t=void 0!==e.parameterLimit?e.parameterLimit:1e3,r=p("qs");if(isNaN(t)||t<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(t)&&(t|=0);return function(e){var n=d(e,t);if(void 0===n)throw s("too many parameters"),i(413,"too many parameters",{type:"parameters.too.many"});var o=Math.max(100,n);return s("parse extended urlencoding"),r(e,{allowPrototypes:!0,arrayLimit:o,depth:1/0,parameterLimit:t})}}(t):function(e){var t=void 0!==e.parameterLimit?e.parameterLimit:1e3,r=p("querystring");if(isNaN(t)||t<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(t)&&(t|=0);return function(e){var n=d(e,t);if(void 0===n)throw s("too many parameters"),i(413,"too many parameters",{type:"parameters.too.many"});return s("parse urlencoding"),r(e,void 0,void 0,{maxKeys:t})}}(t),g="function"!=typeof h?function(e){return function(t){return Boolean(c(t,e))}}(h):h;function v(e){return e.length?y(e):{}}return function(e,t,r){if(e._body)return s("body already parsed"),void r();if(e.body=e.body||{},!c.hasBody(e))return s("skip empty body"),void r();if(s("content-type %j",e.headers["content-type"]),!g(e))return s("skip parsing"),void r();var n=function(e){try{return(o.parse(e).parameters.charset||"").toLowerCase()}catch(e){return}}(e)||"utf-8";if("utf-8"!==n)return s("invalid charset"),void r(i(415,'unsupported charset "'+n.toUpperCase()+'"',{charset:n,type:"charset.unsupported"}));u(e,t,r,v,s,{debug:s,encoding:n,inflate:f,limit:l,verify:m})}};var f=Object.create(null);function d(e,t){for(var r=0,n=0;-1!==(n=e.indexOf("&",n));)if(n++,++r===t)return;return r}function p(e){var t=f[e];if(void 0!==t)return t.parse;switch(e){case"qs":t=r(57);break;case"querystring":t=r(14)}return f[e]=t,t.parse}},function(e,t){e.exports=require("qs")},function(e,t,r){"use strict";var n=r(0),o=r(22),i=r(60),s=r(11);function a(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=a(s);u.Axios=i,u.create=function(e){return a(n.merge(s,e))},u.Cancel=r(28),u.CancelToken=r(77),u.isCancel=r(27),u.all=function(e){return Promise.all(e)},u.spread=r(78),e.exports=u,e.exports.default=u},function(e,t){e.exports=require("is-buffer")},function(e,t,r){"use strict";var n=r(11),o=r(0),i=r(72),s=r(73);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=a},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(0),o=r(23),i=r(25),s=r(63),a=r(64),u=r(12),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(65);e.exports=function(e){return new Promise(function(t,f){var d=e.data,p=e.headers;n.isFormData(d)&&delete p["Content-Type"];var l=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in l||a(e.url)||(l=new window.XDomainRequest,h="onload",m=!0,l.onprogress=function(){},l.ontimeout=function(){}),e.auth){var y=e.auth.username||"",g=e.auth.password||"";p.Authorization="Basic "+c(y+":"+g)}if(l.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,l[h]=function(){if(l&&(4===l.readyState||m)&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in l?s(l.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?l.response:l.responseText,status:1223===l.status?204:l.status,statusText:1223===l.status?"No Content":l.statusText,headers:r,config:e,request:l};o(t,f,n),l=null}},l.onerror=function(){f(u("Network Error",e,null,l)),l=null},l.ontimeout=function(){f(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",l)),l=null},n.isStandardBrowserEnv()){var v=r(66),x=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;x&&(p[e.xsrfHeaderName]=x)}if("setRequestHeader"in l&&n.forEach(p,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:l.setRequestHeader(t,e)}),e.withCredentials&&(l.withCredentials=!0),e.responseType)try{l.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){l&&(l.abort(),f(e),l=null)}),void 0===d&&(d=null),l.send(d)})}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}}),s):s}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,i=String(e),s="",a=0,u=n;i.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&t>>8-a%1*8)){if((r=i.charCodeAt(a+=.75))>255)throw new o;t=t<<8|r}return s}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0),o=r(23),i=r(25),s=r(68),a=r(69),u=r(26).http,c=r(26).https,f=r(70),d=r(19),p=r(71),l=r(12),h=r(24);e.exports=function(e){return new Promise(function(t,r){var m,y=e.data,g=e.headers;if(g["User-Agent"]||g["user-agent"]||(g["User-Agent"]="axios/"+p.version),y&&!n.isStream(y)){if(Buffer.isBuffer(y));else if(n.isArrayBuffer(y))y=new Buffer(new Uint8Array(y));else{if(!n.isString(y))return r(l("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));y=new Buffer(y,"utf-8")}g["Content-Length"]=y.length}var v=void 0;e.auth&&(v=(e.auth.username||"")+":"+(e.auth.password||""));var x=f.parse(e.url),b=x.protocol||"http:";if(!v&&x.auth){var w=x.auth.split(":");v=(w[0]||"")+":"+(w[1]||"")}v&&delete g.Authorization;var k="https:"===b,q=k?e.httpsAgent:e.httpAgent,S={path:i(x.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method,headers:g,agent:q,auth:v};e.socketPath?S.socketPath=e.socketPath:(S.hostname=x.hostname,S.port=x.port);var j,A=e.proxy;if(!A&&!1!==A){var O=b.slice(0,-1)+"_proxy",D=process.env[O]||process.env[O.toUpperCase()];if(D){var C=f.parse(D);if(A={host:C.hostname,port:C.port},C.auth){var E=C.auth.split(":");A.auth={username:E[0],password:E[1]}}}}if(A&&(S.hostname=A.host,S.host=A.host,S.headers.host=x.hostname+(x.port?":"+x.port:""),S.port=A.port,S.path=b+"//"+x.hostname+(x.port?":"+x.port:"")+S.path,A.auth)){var T=new Buffer(A.auth.username+":"+A.auth.password,"utf8").toString("base64");S.headers["Proxy-Authorization"]="Basic "+T}e.transport?j=e.transport:0===e.maxRedirects?j=k?a:s:(e.maxRedirects&&(S.maxRedirects=e.maxRedirects),j=k?c:u),e.maxContentLength&&e.maxContentLength>-1&&(S.maxBodyLength=e.maxContentLength);var _=j.request(S,function(n){if(!_.aborted){clearTimeout(m),m=null;var i=n;switch(n.headers["content-encoding"]){case"gzip":case"compress":case"deflate":i=i.pipe(d.createUnzip()),delete n.headers["content-encoding"]}var s=n.req||_,a={status:n.statusCode,statusText:n.statusMessage,headers:n.headers,config:e,request:s};if("stream"===e.responseType)a.data=i,o(t,r,a);else{var u=[];i.on("data",function(t){u.push(t),e.maxContentLength>-1&&Buffer.concat(u).length>e.maxContentLength&&r(l("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,s))}),i.on("error",function(t){_.aborted||r(h(t,e,null,s))}),i.on("end",function(){var n=Buffer.concat(u);"arraybuffer"!==e.responseType&&(n=n.toString("utf8")),a.data=n,o(t,r,a)})}}});_.on("error",function(t){_.aborted||r(h(t,e,null,_))}),e.timeout&&!m&&(m=setTimeout(function(){_.abort(),r(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",_))},e.timeout)),e.cancelToken&&e.cancelToken.promise.then(function(e){_.aborted||(_.abort(),r(e))}),n.isStream(y)?y.pipe(_):_.end(y)})}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("url")},function(e){e.exports={_args:[["axios@0.18.0","C:\\vidjot"]],_from:"axios@0.18.0",_id:"axios@0.18.0",_inBundle:!1,_integrity:"sha1-MtU+SFHv3AoRmTts0AB4nXDAUQI=",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.18.0",name:"axios",escapedName:"axios",rawSpec:"0.18.0",saveSpec:null,fetchSpec:"0.18.0"},_requiredBy:["/"],_resolved:"http://registry.npmjs.org/axios/-/axios-0.18.0.tgz",_spec:"0.18.0",_where:"C:\\vidjot",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.3.0","is-buffer":"^1.1.5"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{bundlesize:"^0.5.7",coveralls:"^2.11.9","es6-promise":"^4.0.5",grunt:"^1.0.1","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-nodeunit":"^1.0.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^19.0.0","grunt-karma":"^2.0.0","grunt-ts":"^6.0.0-beta.3","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.0","karma-jasmine":"^1.0.2","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",sinon:"^1.17.4",typescript:"^2.0.3","url-search-params":"^0.6.1",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},homepage:"https://github.com/axios/axios",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test && bundlesize",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",version:"0.18.0"}},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(74),i=r(27),s=r(11),a=r(75),u=r(76);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(28);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){const n=r(3).Router(),o=r(1),{ensureAuthenticated:i}=r(29),s=r(30);r(31);const a=o.model("links");n.get("/",i,(e,t)=>{a.find({user:e.user.id}).sort({date:"desc"}).then(e=>{t.render("links/index",{links:e})})}),n.get("/add",i,(e,t)=>{t.render("links/add")}),n.get("/edit/:id",i,(e,t)=>{a.findOne({_id:e.params.id}).then(r=>{r.user!==e.user.id?(e.flash("error_msg","not authorized"),t.redirect("/links")):t.render("links/edit",{link:r})})}),n.put("/:id",i,(e,t)=>{a.findOne({_id:e.params.id}).then(r=>{r.wordFind=e.body.wordFind,r.link=`http://www.${e.body.wordFind}.com`,r.from=s(e.body.from).format("DD.MM.YYYY"),r.to=s(e.body.to).format("DD.MM.YYYY"),r.save().then(r=>{e.flash("success_msg","Link updated"),t.redirect("/links")})})}),n.post("/",i,(e,t)=>{let r=[];if(e.body.wordFind||r.push({text:"please enter the word"}),r.length>0)t.render("links/add",{errors:r,wordFind:e.body.wordFind});else{const r={wordFind:e.body.wordFind,link:`http://www.${e.body.wordFind}.com`,user:e.user.id,from:s(e.body.from).format("DD.MM.YYYY"),to:s(e.body.to).format("DD.MM.YYYY")};new a(r).save().then(r=>{console.log(r),e.flash("success_msg","Link added"),t.redirect("/links")})}}),n.delete("/:id",i,(e,t)=>{a.deleteOne({_id:e.params.id}).then(()=>{e.flash("success_msg","Link removed"),t.redirect("/links")})}),e.exports=n},function(e,t,r){const n=r(3).Router(),o=r(1),i=r(32),s=r(20);r(81);const a=o.model("users");n.get("/login",(e,t)=>{t.render("users/login")}),n.get("/register",(e,t)=>{t.render("users/register")}),n.get("/logout",(e,t)=>{e.logOut(),e.flash("success_msg","Logged out"),t.redirect("/users/login")}),n.post("/login",(e,t,r)=>{s.authenticate("local",{successRedirect:"/links",failureRedirect:"/users/login",failureFlash:!0})(e,t,r)}),n.post("/register",(e,t)=>{let r=[];e.body.password!==e.body.password2&&r.push({text:"Passwords do not match"}),e.body.password.length<4&&r.push({text:"Password should have more than 4 characters"}),r.length>0?t.render("users/register",{errors:r,email:e.body.email,name:e.body.name}):a.findOne({email:e.body.email}).then(r=>{if(r)e.flash("error_msg","Email is already registered"),t.redirect("/users/login");else{const r=new a({name:e.body.name,email:e.body.email,password:e.body.password});i.genSalt(10,(n,o)=>{i.hash(r.password,o,(n,o)=>{if(n)throw n;r.password=o,r.save().then(r=>{e.flash("success_msg","Registered"),t.redirect("/users/login")}).catch(e=>{console.log(e)})})})}})}),e.exports=n},function(e,t,r){const n=r(1),o=new(0,n.Schema)({name:{type:String,required:!0},email:{type:String,required:!1},password:{type:String,required:!0},date:{type:Date,default:Date.now}});n.model("users",o)},function(e,t,r){const n=r(3).Router(),o=r(1),{ensureAuthenticated:i}=r(29),s=r(21),a=(r(30),r(83));r(31);const u=o.model("links");async function c(e){const t=await async function(e){return await u.find({user:e}).sort({date:"desc"}).then(e=>e)}(e);return await Promise.all(t.map(async e=>await async function(e,t,r){const n=await s.get("http://zakupki.gov.ru/epz/order/quicksearch/rss",{params:{searchString:e,morphology:"on",openMode:"USE_DEFAULT_PARAMS",pageNumber:1,sortDirection:!1,recordsPerPage:"_10",showLotsInfoHidden:!1,fz44:"on",fz223:"on",ppRf615:"on",af:"on",ca:"on",pc:"on",pa:"on",currencyIdGeneral:"-1",publishDateFrom:t,publishDateTo:r,regionDeleted:!1,oktmoIdsWithNested:"on",sortBy:"UPDATE_DATE"},headers:{accept:"application/json","content-type":"text/plain;charset=utf-8"}});return JSON.parse(a.xml2json(n.data,{compact:!0,spaces:4})).rss.channel.item}(e.wordFind,e.from,e.to)))}n.get("/",i,async(e,t)=>{let r=await c(e.user.id);t.render("results/index",{data:[].concat.apply([],r)})}),e.exports=n},function(e,t){e.exports=require("xml-js")},function(e,t,r){const n=r(85).Strategy,o=r(1),i=r(32),s=o.model("users");e.exports=function(e){e.use(new n({usernameField:"email"},(e,t,r)=>{s.findOne({email:e}).then(e=>{if(!e)return r(null,!1,{message:"No user found"});i.compare(t,e.password,(t,n)=>{if(t)throw t;return n?r(null,e):r(null,!1,{message:"Password incorrect"})})})})),e.serializeUser(function(e,t){t(null,e.id)}),e.deserializeUser(function(e,t){s.findById(e,function(e,r){t(e,r)})})}},function(e,t){e.exports=require("passport-local")}]);